(self.webpackChunksyncspace_crypto_analysis=self.webpackChunksyncspace_crypto_analysis||[]).push([[2125],{2125:(n,e,t)=>{"use strict";t.r(e),t.d(e,{EditProfileModule:()=>J});var o=t(1511),i=t(9086),r=t(4762),a=t(3695),c=t(9729),s=t(2690),g=t(6599),l=t(6985),p=t(8420),f=t(1572),m=t(1593);function d(n,e){if(1&n&&(f.ynx(0),f.TgZ(1,"div",27),f._UZ(2,"img",28),f.qZA(),f.BQk()),2&n){const n=f.oxw().ngIf,e=f.oxw();f.xp6(2),f.hYB("alt","",n.firstName," ",n.lastName,""),f.Q6J("src",e.profileImageUrl,f.LSH)}}function u(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function h(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,u,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required)}}function Z(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function _(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,Z,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required)}}function P(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function C(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Email required"),f.qZA())}function x(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,P,2,0,"p",29),f.YNc(2,C,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required),f.xp6(1),f.Q6J("ngIf",n.email)}}function N(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function M(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,N,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required)}}function O(n,e){if(1&n&&(f.TgZ(0,"option",31),f._uU(1),f.ALo(2,"uppercase"),f.qZA()),2&n){const n=e.$implicit;f.Q6J("value",n.id),f.xp6(1),f.hij(" ",f.lcZ(2,2,n.name)," ")}}function q(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function I(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Email required"),f.qZA())}function y(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,q,2,0,"p",29),f.YNc(2,I,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required),f.xp6(1),f.Q6J("ngIf",n.email)}}function w(n,e){1&n&&(f.TgZ(0,"p",30),f._uU(1,"Required field"),f.qZA())}function A(n,e){if(1&n&&(f.TgZ(0,"span"),f.YNc(1,w,2,0,"p",29),f.qZA()),2&n){const n=e.ngIf;f.xp6(1),f.Q6J("ngIf",n.required)}}function v(n,e){if(1&n){const n=f.EpF();f.TgZ(0,"div",3),f.TgZ(1,"h2",4),f._uU(2,"Update Profile"),f.qZA(),f.TgZ(3,"form",5),f.NdJ("ngSubmit",function(){const e=f.CHM(n).ngIf;return f.oxw().onSubmit(e)}),f.TgZ(4,"div",6),f.TgZ(5,"label",7),f._uU(6,"Image*"),f.qZA(),f._uU(7,"\xa0 "),f.TgZ(8,"input",8,9),f.NdJ("change",function(e){return f.CHM(n),f.oxw().onChange(e)}),f.qZA(),f.TgZ(10,"button",10),f.NdJ("click",function(){return f.CHM(n),f.MAs(9).click()}),f._uU(11," Select Image "),f.qZA(),f.YNc(12,d,3,3,"ng-container",11),f.qZA(),f.TgZ(13,"div",6),f.TgZ(14,"label",12),f._uU(15,"First Name*"),f.qZA(),f._UZ(16,"input",13),f.YNc(17,h,2,1,"span",11),f.qZA(),f.TgZ(18,"div",6),f.TgZ(19,"label",14),f._uU(20,"Last Name*"),f.qZA(),f._UZ(21,"input",15),f.YNc(22,_,2,1,"span",11),f.qZA(),f.TgZ(23,"div",6),f.TgZ(24,"label",16),f._uU(25,"Email*"),f.qZA(),f._UZ(26,"input",17),f.YNc(27,x,3,2,"span",11),f.qZA(),f.TgZ(28,"div",6),f.TgZ(29,"label",18),f._uU(30,"Phone*"),f.qZA(),f._UZ(31,"input",19),f.YNc(32,M,2,1,"span",11),f.qZA(),f.TgZ(33,"div",6),f.TgZ(34,"label",20),f._uU(35,"Country*"),f.qZA(),f.TgZ(36,"select",21),f.TgZ(37,"option",22),f._uU(38,"Select Country"),f.qZA(),f.YNc(39,O,3,4,"option",23),f.ALo(40,"async"),f.qZA(),f.YNc(41,y,3,2,"span",11),f.qZA(),f.TgZ(42,"div",6),f.TgZ(43,"label",24),f._uU(44,"Password*"),f.qZA(),f._UZ(45,"input",25),f.YNc(46,A,2,1,"span",11),f.qZA(),f.TgZ(47,"div",6),f.TgZ(48,"button",26),f._uU(49," Update "),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&n){const n=f.oxw();f.xp6(3),f.Q6J("formGroup",n.editProfileForm),f.xp6(9),f.Q6J("ngIf",n.profileImageUrl),f.xp6(4),f.Q6J("formControlName","firstName"),f.xp6(1),f.Q6J("ngIf",n.editProfileForm.get("firstName").touched&&n.editProfileForm.get("firstName").errors),f.xp6(4),f.Q6J("formControlName","lastName"),f.xp6(1),f.Q6J("ngIf",n.editProfileForm.get("lastName").touched&&n.editProfileForm.get("lastName").errors),f.xp6(4),f.Q6J("formControlName","email"),f.xp6(1),f.Q6J("ngIf",n.editProfileForm.get("email").touched&&n.editProfileForm.get("email").errors),f.xp6(4),f.Q6J("formControlName","phone"),f.xp6(1),f.Q6J("ngIf",n.editProfileForm.get("phone").touched&&n.editProfileForm.get("phone").errors),f.xp6(4),f.Q6J("formControlName","country"),f.xp6(3),f.Q6J("ngForOf",f.lcZ(40,16,n.countries$)),f.xp6(2),f.Q6J("ngIf",n.editProfileForm.get("country").touched&&n.editProfileForm.get("country").errors),f.xp6(4),f.Q6J("formControlName","password"),f.xp6(1),f.Q6J("ngIf",n.editProfileForm.get("password").touched&&n.editProfileForm.get("password").errors),f.xp6(2),f.Q6J("disabled",n.editProfileForm.invalid)}}const b=[{path:"",component:(()=>{class n{constructor(n,e){this.store=n,this.httpRequestSrv=e,this.subSink=new l.Y}ngOnInit(){this.initForm(),setTimeout(()=>{var n;this.store.dispatch(p.N.FindCountriesInitiatedAction({payload:!0})),this.countries$=this.store.select(n=>n[0].countries),this.store.dispatch(p.N.FindMyProfileInitiatedAction()),this.myProfile$=this.store.select(n=>n[0].myProfile),this.subSink.sink=null===(n=this.myProfile$)||void 0===n?void 0:n.subscribe(n=>{(null==n?void 0:n.id)&&(this.editProfileForm.patchValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,country:n.country.id}),this.profileImageUrl=n.profileImageUrl)})},0)}initForm(){this.editProfileForm=new a.cw({image:new a.NI(null),firstName:new a.NI(null,a.kI.required),lastName:new a.NI(null,a.kI.required),email:new a.NI(null,a.kI.compose([a.kI.required,a.kI.email])),phone:new a.NI(null,a.kI.required),country:new a.NI("",a.kI.required),password:new a.NI(null)})}onChange(n){return(0,r.mG)(this,void 0,void 0,function*(){const[e]=yield(0,c.E4)(n);e&&(this.profileImageUrl=e,this.editProfileForm.patchValue({image:n.target.files.item(0)}),this.editProfileForm.get("image").updateValueAndValidity())})}onSubmit(n){if(this.editProfileForm.invalid)return;const{value:{firstName:e,lastName:t,email:o,phone:i,country:r,password:a,image:c}}=this.editProfileForm,s=a?{userId:n.id,firstName:e,lastName:t,countryId:r,email:o,phone:i,password:a}:{userId:n.id,firstName:e,lastName:t,countryId:r,email:o,phone:i};c?this.subSink.sink=this.httpRequestSrv.uploadFile(c).pipe((0,g.b)(({data:n})=>{n&&(s.profileImageUrl=n,this.store.dispatch(p.N.UpdateProfileInitiatedAction({payload:s})))})).subscribe():this.store.dispatch(p.N.UpdateProfileInitiatedAction({payload:s}))}ngOnDestroy(){this.subSink.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(m.yh),f.Y36(s.gS))},n.\u0275cmp=f.Xpm({type:n,selectors:[["syncspace-crypto-analysis-edit-profile"]],decls:4,vars:3,consts:[[1,"page-container","full-width"],[1,"page-content"],["class","form-section",4,"ngIf"],[1,"form-section"],[1,"no-padding","text-danger","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","analysis-image"],["accept","image/*","type","file","id","analysis-image",1,"display-none",3,"change"],["fileUploadEl",""],[1,"btn","btn-danger","slim-button",3,"click"],[4,"ngIf"],["for","first-name"],["type","text","id","first-name",1,"form-control",3,"formControlName"],["for","last-name"],["type","text","id","last-name",1,"form-control",3,"formControlName"],["for","email"],["type","email","id","email",1,"form-control",3,"formControlName"],["for","phone"],["type","tel","id","phone",1,"form-control",3,"formControlName"],["for","country"],["id","country",1,"form-control",3,"formControlName"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","password"],["type","password","id","password",1,"form-control",3,"formControlName"],[1,"btn","btn-danger","btn-block",3,"disabled"],[1,"image-preview","mt-20","full-width"],[3,"src","alt"],["class","form-helper danger",4,"ngIf"],[1,"form-helper","danger"],[3,"value"]],template:function(n,e){1&n&&(f.TgZ(0,"section",0),f.TgZ(1,"main",1),f.YNc(2,v,50,18,"div",2),f.ALo(3,"async"),f.qZA(),f.qZA()),2&n&&(f.xp6(2),f.Q6J("ngIf",f.lcZ(3,1,e.myProfile$)))},directives:[o.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,o.sg],pipes:[o.Ov,o.gd],styles:[".page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:50%;margin:0 auto;padding:50px 0 80px}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{width:100%;padding:20px;background:var(--bg-secondary);box-shadow:var(--box-shadow-md)}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .page-subcaption[_ngcontent-%COMP%]{padding:10px 0}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1 1}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50%;list-style:none}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:var(--font-size);font-weight:700;letter-spacing:1.5px;color:var(--primary-text-color)}.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-text-color)}.page-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:300px}.page-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;box-shadow:var(--box-shadow-md)}.page-container[_ngcontent-%COMP%]   .slim-button[_ngcontent-%COMP%]{height:30px;--font-size:14px;font-size:var(--font-size)}@media (max-width:992px){.image-preview[_ngcontent-%COMP%]{height:200px}}@media (max-width:768px){.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:80%;padding:30px 0 80px}.page-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px}}@media (max-width:576px){.page-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:100%;padding:30px 0 80px}.page-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:150px}}"]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[i.Bz.forChild(b)],i.Bz]}),n})();var U=t(4770);let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[o.ez,U.s9,T]]}),n})()}}]);